<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>HTML5 postmessage</title>
  </head>
  <body>
    <p>This is the main page.</p>
    <iframe src="http://127.0.0.1/css3/iframe.html"></iframe>
    <script>
      window.addEventListener("load", initAll, false);

      function initAll() {
        console.log("init postmessage page.");
        var iframe = document.getElementsByTagName("iframe")[0];
        iframe.contentWindow.postMessage("Hello world", "*");

        window.addEventListener("message", function (e) {
          console.log("data from iframe:", e.data);
        });
      }
    </script>
  </body>
</html>